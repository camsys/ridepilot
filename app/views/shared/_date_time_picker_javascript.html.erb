<script type='text/javascript'>
  function makeDatetimePickers(selector) {
    selector = selector || '.datetime-picker';
    $(selector).datetimepicker({
        buttonImage: "<%=  image_path 'calendar-clock.png' %>",
        buttonImageOnly: true,
        constrainInput: false,
        dateFormat: 'D yy-mm-dd',
        hourGrid: 6,
        //hourMin: RidePilot.business_hours.start,
        //hourMax: RidePilot.business_hours.end,
        minuteGrid: 15,
        showOn: "both",
        stepHour: 1,
        //stepMinute: 15,
        timeFormat: 'hh:mm tt'
    });
  }

  function makeDatePickers(selector) {
    selector = selector || '.date-picker';
    $(selector).datepicker({
      showOn: 'both',
      buttonImage: "<%=  image_path 'calendar-clock.png' %>",
      buttonImageOnly: true,
      constrainInput: false,
      dateFormat: 'dd-M-yy D',
      showButtonPanel: true,
      closeText: 'Clear', // Text to show for "close" button
      onClose: function () {
          var event = arguments.callee.caller.caller.arguments[0];
          // If "Clear" gets clicked, then really clear it
          if ($(event.delegateTarget).hasClass('ui-datepicker-close')) {
              $(this).val('');
          }
      }
    });
  }

  function makeTimePickers(selector) {
    selector = selector || '.time-picker';
    $(selector).timepicker({
      buttonImage: "<%=  image_path 'calendar-clock.png' %>",
      buttonImageOnly: true,
      constrainInput: false,
      hourGrid: 6,
      //hourMin: RidePilot.business_hours.start,
      //hourMax: RidePilot.business_hours.end,
      minuteGrid: 15,
      showOn: "both",
      stepHour: 1,
      //stepMinute: 15,
      timeFormat: 'hh:mm tt'
    });
  }
</script>